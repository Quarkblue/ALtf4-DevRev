version: "2"

name: Smart Ticket routing
description: "This is a sample manifest for Smart Ticket routing."

service_account:
  display_name: "ticket-bot"

event_sources:
  organization:
    - name: ticket-bot-webhook
      type: devrev-webhook
      description: webhook trigerred when creating a work
      config:
        event_types:
          - work_created
          - work_updated

functions:
  - name: ticketRouteOn_WorkCreated
    description: Function to handle ticket routing on work creation

automations:
  - name: TicketRoute-on-WorkCreated-automation
    source: ticket-bot-webhook
    event_types:
      - work_created
      - work_updated
    function: ticketRouteOn_WorkCreated
